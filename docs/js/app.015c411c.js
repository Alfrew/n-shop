(function(){"use strict";var e={3807:function(e,t,a){a.r(t)},3913:function(e,t,a){var l=a(6768),s=a(5130),o=a(144),i=a(782),n=a(4232);const r=["white","black","primary","info","success","warning","danger"],u=["title"];var c=(0,l.pM)({__name:"BaseBadge",props:{color:{type:String,required:!1,default:"danger",validator(e){return r.includes(e)}},badgeValue:{type:Number,required:!1,default:0}},setup(e){const t=e,a=(0,l.EW)((()=>s(r)));function s(e){switch(e.value){case"danger":return"has-background-danger has-text-light";case"white":return"has-background-white has-text-dark";case"black":return"has-background-black has-text-light";case"primary":return"has-background-primary has-text-light";case"info":return"has-background-info has-text-light";case"success":return"has-background-success has-text-light";case"warning":return"has-background-warning has-text-dark";default:return""}}const{badgeValue:i,color:r}=(0,o.QW)(t);return(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"badge-wrapper",title:String((0,o.R1)(i))},[(0,o.R1)(i)?((0,l.uX)(),(0,l.CE)("span",{key:0,class:(0,n.C4)(["badge",a.value])},(0,n.v_)((0,o.R1)(i)),3)):(0,l.Q3)("",!0),(0,l.RG)(e.$slots,"default")],8,u))}}),d=a(1241);const p=(0,d.A)(c,[["__scopeId","data-v-7d3f5e64"]]);var v=p,m=(0,l.pM)({__name:"TransitionFade",props:{isForList:{type:Boolean,default:!1,required:!1}},setup(e){return(t,a)=>e.isForList?((0,l.uX)(),(0,l.Wv)(s.F,{key:0,name:"fade"},{default:(0,l.k6)((()=>[(0,l.RG)(t.$slots,"default")])),_:3})):((0,l.uX)(),(0,l.Wv)(s.eB,{key:1,name:"fade",mode:"out-in"},{default:(0,l.k6)((()=>[(0,l.RG)(t.$slots,"default")])),_:3}))}});const f=m;var g=f;const b=e=>((0,l.Qi)("data-v-72097648"),e=e(),(0,l.jt)(),e),h={class:"navbar is-primary",role:"navigation","aria-label":"main navigation"},k={class:"navbar-brand"},y={class:"navbar-menu"},L={class:"navbar-end"},_=b((()=>(0,l.Lk)("span",{class:"icon"},[(0,l.Lk)("i",{class:"fas fa-list"})],-1))),R=b((()=>(0,l.Lk)("span",{class:"icon"},[(0,l.Lk)("i",{class:"fas fa-right-from-bracket"})],-1))),w=[R],C=b((()=>(0,l.Lk)("span",{class:"icon"},[(0,l.Lk)("i",{class:"fas fa-user"})],-1))),V=b((()=>(0,l.Lk)("span",{class:"icon"},[(0,l.Lk)("i",{class:"fas fa-moon"})],-1))),E=[V],F=b((()=>(0,l.Lk)("span",{class:"icon"},[(0,l.Lk)("i",{class:"fas fa-sun"})],-1))),P=[F],x=b((()=>(0,l.Lk)("span",{class:"icon"},[(0,l.Lk)("i",{class:"fas fa-shopping-cart"})],-1)));var I=(0,l.pM)({__name:"TheHeader",setup(e){const t=(0,o.KR)("light"),a=(0,l.EW)((()=>"light"==t.value));function s(){t.value=a.value?"dark":"light",document.querySelector("html").setAttribute("data-theme",t.value)}document.querySelector("html").setAttribute("data-theme",t.value);const n=(0,i.Pj)(),r=(0,l.EW)((()=>n.getters["isAuthenticated"])),u=(0,l.EW)((()=>n.getters["cart/cartQuantity"]));function c(){n.dispatch("logout")}return(e,t)=>{const o=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("nav",h,[(0,l.Lk)("div",k,[(0,l.bF)(o,{class:"navbar-item",title:"Products page",to:"/"},{default:(0,l.k6)((()=>[(0,l.eW)(" FinGames ")])),_:1})]),(0,l.Lk)("div",y,[(0,l.Lk)("div",L,[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[r.value?((0,l.uX)(),(0,l.Wv)(o,{key:0,class:"navbar-item",title:"Admin page",to:{name:"adminProductList"}},{default:(0,l.k6)((()=>[_])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[r.value?((0,l.uX)(),(0,l.CE)("span",{key:0,class:"navbar-link is-arrowless",title:"Logout",onClick:t[0]||(t[0]=e=>c())},w)):((0,l.uX)(),(0,l.Wv)(o,{key:1,class:"navbar-item",title:"Login page",to:{name:"userAuth"}},{default:(0,l.k6)((()=>[C])),_:1}))])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[a.value?((0,l.uX)(),(0,l.CE)("span",{key:0,class:"navbar-link is-arrowless",title:"Enable dark theme",onClick:t[1]||(t[1]=e=>s())},E)):((0,l.uX)(),(0,l.CE)("span",{key:1,class:"navbar-link is-arrowless",title:"Enable light theme",onClick:t[2]||(t[2]=e=>s())},P))])),_:1}),(0,l.bF)(o,{class:"navbar-item",title:"Shopping cart",to:{name:"cart"}},{default:(0,l.k6)((()=>[(0,l.bF)(v,{"badge-value":u.value},{default:(0,l.k6)((()=>[x])),_:1},8,["badge-value"])])),_:1})])])])}}});const W=(0,d.A)(I,[["__scopeId","data-v-72097648"]]);var q=W;const S={class:"router-wrapper"};var A=(0,l.pM)({__name:"App",setup(e){const t=(0,i.Pj)();return(0,l.sV)((()=>{t.dispatch("cart/getCartStorage"),t.dispatch("tryLogin")})),(e,t)=>{const a=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(q),(0,l.Lk)("div",S,[(0,l.bF)(a)])],64)}}});const X=A;var T=X,M=(a(4114),a(1387));const B=e=>((0,l.Qi)("data-v-5ad5dc48"),e=e(),(0,l.jt)(),e),j=B((()=>(0,l.Lk)("span",{class:"icon"},[(0,l.Lk)("i",{class:"fa fa-arrow-up"})],-1))),D=[j];var K=(0,l.pM)({__name:"BaseGoToTop",setup(e){(0,l.sV)((()=>{window.addEventListener("scroll",a)})),(0,l.xo)((()=>{window.removeEventListener("scroll",a)}));const t=(0,o.KR)(!1);function a(){window.scrollY>500?t.value=!0:t.value=!1}function s(){document.getElementById("app").scrollIntoView({behavior:"smooth"})}return(e,a)=>((0,l.uX)(),(0,l.Wv)(l.Im,{to:"body"},[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[t.value?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"button py-3 is-rounded is-primary is-to-top",onClick:a[0]||(a[0]=e=>s())},D)):(0,l.Q3)("",!0)])),_:1})]))}});const U=(0,d.A)(K,[["__scopeId","data-v-5ad5dc48"]]);var O=U;const Q=["is-primary","is-info","is-success","is-warning","is-danger",""];var $=(0,l.pM)({__name:"BaseNotification",props:{color:{type:String,required:!1,default:"",validator(e){return Q.includes(e)}},isLight:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,{color:a,isLight:s}=(0,o.QW)(t),i=(0,l.EW)((()=>[a.value,s.value?"is-light":""]));return(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)(["notification",i.value])},[(0,l.RG)(e.$slots,"default")],2))}});const G=$;var z=G;const N={class:"field"},J=(0,l.Lk)("label",{class:"label",for:"sort"},"Sort by:",-1),H={class:"control"},Z={class:"select is-fullwidth"},Y=["value"];var ee=(0,l.pM)({__name:"BaseSort",props:{sortList:{type:Object,required:!0}},emits:["sortAction"],setup(e,{emit:t}){const a=t,i=e,{sortList:r}=(0,o.QW)(i),u=(0,o.KR)(r.value[0].value);return(0,l.wB)(u,(()=>{a("sortAction",u.value)})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",N,[J,(0,l.Lk)("div",H,[(0,l.Lk)("div",Z,[(0,l.bo)((0,l.Lk)("select",{id:"sort","onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(r),(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.value,value:e.value},(0,n.v_)(e.label),9,Y)))),128))],512),[[s.u1,u.value]])])])]))}});const te=ee;var ae=te;const le=["fade","zoom","special-fade"],se=["data-isVisible"];var oe=(0,l.pM)({__name:"EnterAnimate",props:{animationType:{type:String,required:!1,default:"fade",validator(e){return le.includes(e)}},hasFullHeight:{type:Boolean,default:!1}},setup(e){const t=e,{animationType:a,hasFullHeight:i}=(0,o.QW)(t),r=(0,o.KR)(),u=(0,o.KR)(!1),c=new IntersectionObserver((([e])=>{u.value=e.isIntersecting})),d=(0,l.EW)((()=>i.value?"is-full-height":""));return(0,l.sV)((()=>{c.observe(r.value)})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)(d.value),ref_key:"target",ref:r},[(0,l.bF)(s.eB,{name:(0,o.R1)(a)},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:(0,n.C4)(["is-full-height",(0,o.R1)(a)]),"data-isVisible":u.value},[(0,l.RG)(e.$slots,"default")],10,se)])),_:3},8,["name"])],2))}});const ie=(0,d.A)(oe,[["__scopeId","data-v-2225533c"]]);var ne=ie;const re=["is-black","is-dark","is-white","is-link","is-primary","is-info","is-success","is-warning","is-danger",""],ue=["is-normal","is-medium","is-large"];var ce=(0,l.pM)({__name:"BaseTag",props:{color:{type:String,required:!1,default:"",validator(e){return re.includes(e)}},size:{type:String,required:!1,default:"",validator(e){return ue.includes(e)}},isLight:{type:Boolean,required:!1,default:!1},isRounded:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,{color:a,size:s,isLight:i,isRounded:r}=(0,o.QW)(t),u=(0,l.EW)((()=>[a.value,s.value,i.value?"is-light":"",r.value?"is-rounded":""]));return(e,t)=>((0,l.uX)(),(0,l.CE)("span",{class:(0,n.C4)(["tag",u.value])},[(0,l.RG)(e.$slots,"default")],2))}});const de=ce;var pe=de;function ve(){function e(e){const t=Date.parse(e);return!isNaN(t)}function t(){return void 0!=navigator.languages?navigator.languages[0]:navigator.language}function a(a){const l=t(),s={year:"numeric",month:"2-digit",day:"2-digit"};return e(a)?new Date(a).toLocaleDateString(l,s):a}return{formatDate:a}}const me=e=>((0,l.Qi)("data-v-404cf5b8"),e=e(),(0,l.jt)(),e),fe={class:"card"},ge={class:"image is-1by1 animated-placeholder-bg"},be={class:"card-content"},he={class:"subtitle is-7"},ke={class:"is-flex is-justify-content-space-between is-align-items-center"},ye={class:"has-text-weight-bold is-size-5"},Le={class:"card-footer"},_e=me((()=>(0,l.Lk)("span",{class:"icon has-text-primary"},[(0,l.Lk)("i",{class:"fa fa-cart-plus","aria-hidden":"true"})],-1))),Re=[_e];var we=(0,l.pM)({__name:"GameProductItem",props:{productGame:{type:Object,required:!0}},setup(e){const t=e,{productGame:a}=(0,o.QW)(t),s=(0,l.EW)((()=>{const e=a.value.name.split(" ").join("-");return{name:"productDetail",params:{id:a.value.id,title:e}}})),{formatDate:r}=ve(),u=(0,l.EW)((()=>r(a.value.releaseDate))),c=(0,l.EW)((()=>{switch(a.value.type){case"DLC":return"is-link";case"GAME":return"is-info";case"BUNDLE":return"is-warning";default:return""}})),d=(0,i.Pj)();function p(e){d.dispatch("cart/addItemToCart",e)}return(e,t)=>{const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",fe,[(0,l.bF)(i,{to:s.value,class:"card-image"},{default:(0,l.k6)((()=>[(0,l.Lk)("figure",ge,[(0,o.R1)(a).imageUrl?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"has-ratio cover",style:(0,n.Tr)("background-image: url("+(0,o.R1)(a).imageUrl+")")},null,4)):(0,l.Q3)("",!0)])])),_:1},8,["to"]),(0,l.Lk)("header",be,[(0,l.Lk)("div",null,[(0,l.bF)(i,{to:s.value,class:"title is-4"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)((0,o.R1)(a).name),1)])),_:1},8,["to"]),(0,l.Lk)("p",he,(0,n.v_)(u.value),1)]),(0,l.Lk)("p",ke,[(0,l.Lk)("b",ye,"$"+(0,n.v_)((0,o.R1)(a).price),1),(0,l.bF)(pe,{color:c.value,"is-rounded":!0,size:"is-medium"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)((0,o.R1)(a).type),1)])),_:1},8,["color"])])]),(0,l.Lk)("div",Le,[(0,l.Lk)("button",{class:"card-footer-item hover-scale",onClick:t[0]||(t[0]=e=>p((0,o.R1)(a)))},Re)])])}}});const Ce=(0,d.A)(we,[["__scopeId","data-v-404cf5b8"]]);var Ve=Ce,Ee=a(6046);const Fe={class:"field"},Pe=["for"],xe={class:"control"},Ie={class:"radios"},We=["name","value","aria-label"];var qe=(0,l.pM)({__name:"BaseInputRadioList",props:(0,l.zz)({inputSelectControl:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,l.zz)(["isValid"],["update:modelValue"]),setup(e,{emit:t}){const a=e,{inputSelectControl:i}=(0,o.QW)(a),r=(0,l.fn)(e,"modelValue");return(e,t)=>((0,l.uX)(),(0,l.CE)("div",Fe,[(0,l.Lk)("label",{class:"label",for:(0,o.R1)(i).id},(0,n.v_)((0,o.R1)(i).controlLabel??"Select an option"),9,Pe),(0,l.Lk)("div",xe,[(0,l.Lk)("div",Ie,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(i).optionList,(e=>((0,l.uX)(),(0,l.CE)("label",{class:"radio",key:e.value},[(0,l.bo)((0,l.Lk)("input",{type:"radio",name:(0,o.R1)(i).id,value:e.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),"aria-label":e.label},null,8,We),[[s.XL,r.value,void 0,{trim:!0}]]),(0,l.eW)(" "+(0,n.v_)(e.label),1)])))),128))])])]))}});const Se=(0,d.A)(qe,[["__scopeId","data-v-6ead8379"]]);var Ae=Se;const Xe={class:"field"},Te=["for"],Me={class:"control"},Be={class:"checkboxes"},je=["name","value","aria-label"];var De=(0,l.pM)({__name:"BaseInputCheckboxList",props:(0,l.zz)({inputSelectControl:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,l.zz)(["isValid"],["update:modelValue"]),setup(e,{emit:t}){const a=e,{inputSelectControl:i}=(0,o.QW)(a),r=(0,l.fn)(e,"modelValue");return(e,t)=>((0,l.uX)(),(0,l.CE)("div",Xe,[(0,l.Lk)("label",{class:"label",for:(0,o.R1)(i).id},(0,n.v_)((0,o.R1)(i).controlLabel??"Select an option"),9,Te),(0,l.Lk)("div",Me,[(0,l.Lk)("div",Be,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(i).optionList,(e=>((0,l.uX)(),(0,l.CE)("label",{class:"checkbox",key:e.value},[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",name:(0,o.R1)(i).id,value:e.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),"aria-label":e.label},null,8,je),[[s.lH,r.value,void 0,{trim:!0}]]),(0,l.eW)(" "+(0,n.v_)(e.label),1)])))),128))])])]))}});const Ke=(0,d.A)(De,[["__scopeId","data-v-1d86df13"]]);var Ue=Ke,Oe=(0,l.pM)({__name:"ProductsFiltersDialog",props:{show:{type:Boolean,required:!0},filters:{type:Object,required:!0}},emits:["close"],setup(e,{emit:t}){const a=e,{show:i,filters:n}=(0,o.QW)(a);function r(){n?.value&&(n.value.minPrice&&n.value.maxPrice&&(d.value=`${n.value.minPrice}=${n.value.maxPrice}`),n.value.releasedAfter&&(v.value=`${n.value.releasedAfter}=${n.value.releasedBefore}`),n.value.types&&(f.value=n.value.types))}(0,l.wB)(i,(function(){n?.value&&r()}));const u=(0,o.Kh)({types:!0,priceRange:!0,releaseYear:!0}),c=(0,l.EW)((function(){for(const e in u)if(!u[e])return!1;return!0})),d=(0,o.KR)(),p={controlLabel:"Price range:",id:"priceRange",validators:{},optionList:[{label:"$0 - $19.99",value:"0=19.99"},{label:"$20 - $39.99",value:"20=39.99"},{label:"$40 - $59.99",value:"40=59.99"},{label:"$60+",value:"60=null"}]},v=(0,o.KR)(),m={controlLabel:"Release year:",id:"releaseYear",validators:{},optionList:[{label:"2021",value:"2021-01-01=2021-12-31"},{label:"2022",value:"2022-01-01=2022-12-31"},{label:"2023",value:"2023-01-01=2023-12-31"},{label:"2024",value:"2024-01-01=2024-12-31"}]},f=(0,o.KR)([]),g={controlLabel:"Product type:",id:"productTypes",validators:{},optionList:[{label:"Game",value:"GAME"},{label:"DLC",value:"DLC"},{label:"Bundle",value:"BUNDLE"}]},b=t;function h(e){b("close",e)}function k(){const e={types:f.value};d.value&&(e.maxPrice=+d.value.split("=")[1],e.minPrice="null"!=d.value.split("=")[0]?+d.value.split("=")[0]:void 0),v.value&&(e.releasedAfter=v.value.split("=")[0],e.releasedBefore=v.value.split("=")[1]),h(e)}function y(){d.value=void 0,v.value=void 0,f.value=[];const e={maxPrice:void 0,minPrice:void 0,releasedAfter:void 0,releasedBefore:void 0,types:[]};h(e)}return(e,t)=>{const a=(0,l.g2)("base-button");return(0,l.uX)(),(0,l.Wv)(Ee["default"],{show:(0,o.R1)(i),title:"Filters"},{default:(0,l.k6)((()=>[(0,l.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)((()=>{}),["prevent"]))},[(0,l.bF)(Ue,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),"input-select-control":g},null,8,["modelValue"]),(0,l.bF)(Ae,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),"input-select-control":p},null,8,["modelValue"]),(0,l.bF)(Ae,{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=e=>v.value=e),"input-select-control":m},null,8,["modelValue"])],32)])),actions:(0,l.k6)((()=>[(0,l.bF)(a,{mode:"is-light",icon:"fa-xmark",onClick:t[4]||(t[4]=e=>h())},{default:(0,l.k6)((()=>[(0,l.eW)("Cancel")])),_:1}),(0,l.bF)(a,{color:"is-danger",icon:"fa-trash",onClick:t[5]||(t[5]=e=>y())},{default:(0,l.k6)((()=>[(0,l.eW)("Clear All")])),_:1}),(0,l.bF)(a,{color:"is-primary",icon:"fa-save","is-disabled":!c.value,onClick:t[6]||(t[6]=e=>k())},{default:(0,l.k6)((()=>[(0,l.eW)("Apply Filters")])),_:1},8,["is-disabled"])])),_:1},8,["show"])}}});const Qe=Oe;var $e=Qe;const Ge={class:"fixed-grid has-6-cols mb-6"},ze={class:"grid"},Ne={class:"cell is-col-span-6 is-col-span-2-tablet"},Je={class:"cell is-col-from-end-1 is-align-content-end"},He={class:"fixed-grid has-1-cols has-3-cols-tablet has-4-cols-desktop"},Ze={class:"grid is-column-gap-4 is-row-gap-8"},Ye={key:0,class:"buttons is-centered"},et=12;var tt=(0,l.pM)({__name:"ProductList",setup(e){(0,l.sV)((()=>{document.title="FinGames",m()}));let t=(0,o.Kh)({forceRefresh:!0,take:et,skip:0});const a=(0,o.KR)(!1);function s(){a.value=!0}function n(e){e&&(t={...t,...e},console.log(t),m()),a.value=!1}const r=[{label:"Featured",value:"default"},{label:"Release date (oldest first)",value:"releaseDate-asc"},{label:"Release date (newest first)",value:"releaseDate-desc"},{label:"Title (A-Z)",value:"name-asc"},{label:"Title (Z-A)",value:"name-desc"},{label:"Price (Low to high)",value:"price-asc"},{label:"Price (High to low)",value:"price-desc"}];function u(e){"default"==e?(t.orderProperty=void 0,t.orderDirection=void 0):"asc"!=e.split("-")[1]&&"desc"!=e.split("-")[1]||(t.orderProperty=e.split("-")[0],t.orderDirection=e.split("-")[1]),t.skip=0,t.take=et,m()}const c=(0,i.Pj)(),d=(0,l.EW)((()=>c.getters["gameProducts/gameProductList"])),p=(0,o.KR)(""),v=(0,o.KR)(!1);async function m(){v.value=!0;try{await c.dispatch("gameProducts/loadGameProductList",t)}catch(e){p.value=e.message||"Something went wrong, try again later"}v.value=!1}async function f(e){t.skip+=e,t.take+=e,v.value=!0;try{await c.dispatch("gameProducts/loadMoreProducts",t)}catch(a){p.value=a.message||"Something went wrong, try again later"}v.value=!1}const g=(0,l.EW)((()=>{const e=d.value.length<t.take;return e&&!v.value}));return(e,i)=>{const c=(0,l.g2)("base-button");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)($e,{show:a.value,filters:(0,o.R1)(t),onClose:i[0]||(i[0]=e=>n(e))},null,8,["show","filters"]),(0,l.bF)(O),(0,l.Lk)("div",Ge,[(0,l.Lk)("div",ze,[(0,l.Lk)("div",Ne,[(0,l.bF)(ae,{sortList:r,onSortAction:i[1]||(i[1]=e=>u(e))})]),(0,l.Lk)("div",Je,[(0,l.bF)(c,{icon:"fa-filter",color:"is-link",onClick:i[2]||(i[2]=e=>s())},{default:(0,l.k6)((()=>[(0,l.eW)("Filters")])),_:1})])])]),(0,l.Lk)("div",He,[(0,l.Lk)("ul",Ze,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.value,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id,class:"cell"},[(0,l.bF)(ne,{animationType:"special-fade","has-full-height":!0},{default:(0,l.k6)((()=>[(0,l.bF)(Ve,{"product-game":e},null,8,["product-game"])])),_:2},1024)])))),128))])]),g.value?0==d.value.length?((0,l.uX)(),(0,l.Wv)(z,{key:1,color:"is-warning","is-light":!0,class:"has-text-centered"},{default:(0,l.k6)((()=>[(0,l.eW)(" No results with this filters. Try to change the filters ")])),_:1})):((0,l.uX)(),(0,l.Wv)(z,{key:2,color:"is-success",class:"has-text-centered","is-light":!0},{default:(0,l.k6)((()=>[(0,l.eW)("Congratulations! You've reached the end of the catalog!")])),_:1})):((0,l.uX)(),(0,l.CE)("div",Ye,[(0,l.bF)(c,{icon:"fa-plus",color:"is-primary",class:"is-uppercase",isLoading:v.value,onClick:i[3]||(i[3]=e=>f(et))},{default:(0,l.k6)((()=>[(0,l.eW)("Load more results")])),_:1},8,["isLoading"])]))])}}});const at=tt;var lt=at;const st=e=>((0,l.Qi)("data-v-1971109a"),e=e(),(0,l.jt)(),e),ot={class:"columns is-gap-6"},it={class:"column is-three-fifths"},nt={class:"item-cover image is-16by9 animated-placeholder-bg"},rt={class:"column"},ut=["title"],ct=["title"],dt={class:"is-flex is-justify-content-space-between is-align-items-center my-5"},pt={class:"is-size-4 has-text-weight-medium"},vt=st((()=>(0,l.Lk)("h3",{class:"title is-5"},"Description",-1)));var mt=(0,l.pM)({__name:"ProductDetail",props:{id:{type:String,required:!0},title:{type:String,required:!1,default:"Game Detail"}},setup(e){const t=e,{id:a,title:s}=(0,o.QW)(t);document.title=s.value.split("-").join(" ");const r=(0,i.Pj)(),u=(0,l.EW)((()=>r.getters["gameProducts/gameProductById"](a.value))),{formatDate:c}=ve(),d=(0,l.EW)((()=>c(u.value.releaseDate)));function p(e){r.dispatch("cart/addItemToCart",e)}return(e,t)=>{const a=(0,l.g2)("base-button"),s=(0,l.g2)("base-box");return(0,l.uX)(),(0,l.Wv)(s,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",ot,[(0,l.Lk)("div",it,[(0,l.bF)(ne,{"animation-type":"special-fade"},{default:(0,l.k6)((()=>[(0,l.Lk)("figure",nt,[u.value.coverUrl?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"has-ratio cover",style:(0,n.Tr)("background-image: url("+u.value.coverUrl+")")},null,4)):(0,l.Q3)("",!0)])])),_:1})]),(0,l.Lk)("div",rt,[(0,l.bF)(ne,{"animation-type":"special-fade"},{default:(0,l.k6)((()=>[(0,l.Lk)("h2",{class:"title",title:u.value.name},(0,n.v_)(u.value.name),9,ut),(0,l.Lk)("p",{class:"subtitle is-6",title:u.value.releaseDate},(0,n.v_)(d.value),9,ct)])),_:1}),(0,l.Lk)("div",dt,[(0,l.bF)(ne,{"animation-type":"special-fade"},{default:(0,l.k6)((()=>[(0,l.Lk)("p",pt,"$"+(0,n.v_)(u.value.price),1)])),_:1}),(0,l.bF)(a,{icon:"fa-shopping-cart",color:"is-primary",mode:"is-outlined",class:"is-uppercase",onClick:t[0]||(t[0]=e=>p(u.value))},{default:(0,l.k6)((()=>[(0,l.eW)("Add to cart")])),_:1})]),(0,l.bF)(ne,{"animation-type":"special-fade"},{default:(0,l.k6)((()=>[vt,(0,l.Lk)("p",null,(0,n.v_)(u.value.description),1)])),_:1})])])])),_:1})}}});const ft=(0,d.A)(mt,[["__scopeId","data-v-1971109a"]]);var gt=ft;const bt=[{name:"productList",path:"/games",component:lt},{name:"productDetail",path:"/games/:title-:id",props:!0,component:gt}],ht=e=>((0,l.Qi)("data-v-2ae244b2"),e=e(),(0,l.jt)(),e),kt={class:"quantity-control"},yt=["disabled"],Lt=ht((()=>(0,l.Lk)("span",{class:"icon"},[(0,l.Lk)("i",{class:"fa fa-minus"})],-1))),_t=[Lt],Rt={class:"quantity-control__label"},wt=["disabled"],Ct=ht((()=>(0,l.Lk)("span",{class:"icon"},[(0,l.Lk)("i",{class:"fa fa-plus"})],-1))),Vt=[Ct];var Et=(0,l.pM)({__name:"BaseQuantityControl",props:{quantity:{type:Number,required:!0},quantityMaxLimit:{type:Number,required:!1},quantityMinLimit:{type:Number,required:!1,default:1}},emits:["increase","decrease"],setup(e,{emit:t}){const a=t,s=e,{quantity:i,quantityMaxLimit:r,quantityMinLimit:u}=(0,o.QW)(s),c=(0,l.EW)((()=>u.value>=i.value));function d(){c.value||a("decrease")}const p=(0,l.EW)((()=>!!r&&r.value<=i.value));function v(){p.value||a("increase")}return(e,t)=>((0,l.uX)(),(0,l.CE)("div",kt,[(0,l.Lk)("button",{class:"button is-left",disabled:c.value,onClick:t[0]||(t[0]=e=>d())},_t,8,yt),(0,l.Lk)("div",Rt,(0,n.v_)((0,o.R1)(i)),1),(0,l.Lk)("button",{class:"button is-right",disabled:p.value,onClick:t[1]||(t[1]=e=>v())},Vt,8,wt)]))}});const Ft=(0,d.A)(Et,[["__scopeId","data-v-2ae244b2"]]);var Pt=Ft;const xt=e=>((0,l.Qi)("data-v-0dc902c4"),e=e(),(0,l.jt)(),e),It={class:"cart-list-item columns is-tablet py-5"},Wt={class:"item-cover image is-16by9 animated-placeholder-bg"},qt={class:"column"},St={class:"mt-3"},At={class:"column is-flex is-justify-content-space-between"},Xt=xt((()=>(0,l.Lk)("p",{class:"is-size-7 has-text-grey-light mb-1"},"Quantity",-1))),Tt={class:"mb-4 has-text-centered has-text-weight-bold"};var Mt=(0,l.pM)({__name:"CartListItem",props:{cartProduct:{type:Object,required:!0}},setup(e){const t=e,{cartProduct:a}=(0,o.QW)(t),s=(0,l.EW)((()=>{const e=a.value.name.split(" ").join("-");return{name:"productDetail",params:{id:a.value.id,title:e}}})),r=(0,l.EW)((()=>a.value.price*a.value.quantity));function u(){d.dispatch("cart/reduceQuantityForItem",a.value.id)}function c(){d.dispatch("cart/addItemToCart",a.value)}const d=(0,i.Pj)();function p(e){d.dispatch("cart/removeItemFromCart",e)}return(e,t)=>{const i=(0,l.g2)("router-link"),d=(0,l.g2)("base-button");return(0,l.uX)(),(0,l.CE)("div",It,[(0,l.bF)(i,{to:s.value,class:"column"},{default:(0,l.k6)((()=>[(0,l.Lk)("figure",Wt,[(0,o.R1)(a).coverUrl?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"has-ratio cover",style:(0,n.Tr)("background-image: url("+(0,o.R1)(a).coverUrl+")")},null,4)):(0,l.Q3)("",!0)])])),_:1},8,["to"]),(0,l.Lk)("div",qt,[(0,l.bF)(i,{class:"title is-6",to:s.value,title:(0,o.R1)(a).name},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)((0,o.R1)(a).name),1)])),_:1},8,["to","title"]),(0,l.Lk)("p",St,"$"+(0,n.v_)((0,o.R1)(a).price),1)]),(0,l.Lk)("div",At,[(0,l.Lk)("div",null,[Xt,(0,l.bF)(Pt,{quantity:(0,o.R1)(a).quantity,"quantity-max-limit":(0,o.R1)(a).inStock,onIncrease:t[0]||(t[0]=e=>c()),onDecrease:t[1]||(t[1]=e=>u())},null,8,["quantity","quantity-max-limit"])]),(0,l.Lk)("div",null,[(0,l.Lk)("p",Tt,"$"+(0,n.v_)(r.value.toFixed(2)),1),(0,l.bF)(d,{mode:"is-text",onClick:t[2]||(t[2]=e=>p((0,o.R1)(a).id))},{default:(0,l.k6)((()=>[(0,l.eW)("Remove")])),_:1})])])])}}});const Bt=(0,d.A)(Mt,[["__scopeId","data-v-0dc902c4"]]);var jt=Bt;const Dt=e=>((0,l.Qi)("data-v-0b43b2ba"),e=e(),(0,l.jt)(),e),Kt={class:"summary py-6 px-4 has-background"},Ut=Dt((()=>(0,l.Lk)("h2",{class:"title has-text-centered"},"Order summary",-1))),Ot={class:"mb-3 has-border-bottom"},Qt={class:"is-flex is-justify-content-space-between"},$t={class:"mb-3 has-border-bottom"},Gt={class:"is-flex is-justify-content-space-between"},zt={key:0},Nt={key:1},Jt={class:"mb-5"},Ht={class:"is-size-5 has-text-weight-bold is-flex is-justify-content-space-between"},Zt={class:"buttons is-centered"};var Yt=(0,l.pM)({__name:"CartSummary",setup(e){const t=(0,o.KR)(0),a=(0,i.Pj)(),s=(0,l.EW)((()=>a.getters["cart/cartTotal"]));(0,l.wB)(s,(e=>{t.value=e>0&&e<80?10:0}));const r=(0,l.EW)((()=>s.value+t.value));return(e,a)=>{const o=(0,l.g2)("base-button");return(0,l.uX)(),(0,l.CE)("div",Kt,[Ut,(0,l.Lk)("div",Ot,[(0,l.Lk)("p",Qt,[(0,l.eW)(" Item(s) subtotal "),(0,l.Lk)("span",null,"$"+(0,n.v_)(s.value.toFixed(2)),1)])]),(0,l.Lk)("div",$t,[(0,l.Lk)("p",Gt,[(0,l.eW)(" Shipping "),t.value?((0,l.uX)(),(0,l.CE)("span",zt,"$"+(0,n.v_)(t.value),1)):((0,l.uX)(),(0,l.CE)("span",Nt,"Free"))])]),(0,l.Lk)("div",Jt,[(0,l.Lk)("p",Ht,[(0,l.eW)(" Order total "),(0,l.Lk)("span",null,"$"+(0,n.v_)(r.value.toFixed(2)),1)])]),(0,l.Lk)("div",Zt,[(0,l.bF)(o,{color:"is-success",mode:"is-outlined",class:"is-uppercase"},{default:(0,l.k6)((()=>[(0,l.eW)("Go to Checkout")])),_:1})])])}}});const ea=(0,d.A)(Yt,[["__scopeId","data-v-0b43b2ba"]]);var ta=ea,aa=(0,l.pM)({__name:"TransitionSlide",props:{isForList:{type:Boolean,default:!1,required:!1}},setup(e){return(t,a)=>e.isForList?((0,l.uX)(),(0,l.Wv)(s.F,{key:0,name:"slide"},{default:(0,l.k6)((()=>[(0,l.RG)(t.$slots,"default")])),_:3})):((0,l.uX)(),(0,l.Wv)(s.eB,{key:1,name:"slide",mode:"out-in"},{default:(0,l.k6)((()=>[(0,l.RG)(t.$slots,"default")])),_:3}))}});const la=aa;var sa=la;const oa=e=>((0,l.Qi)("data-v-0c1e7920"),e=e(),(0,l.jt)(),e),ia={key:0,class:"cart columns is-desktop"},na={class:"column is-one-quarter-desktop"},ra={class:"column cart-list"},ua={key:0},ca={class:"has-text-centered py-6"},da=oa((()=>(0,l.Lk)("h3",{class:"title"},"No items in your cart",-1)));var pa=(0,l.pM)({__name:"ShopCart",setup(e){const t=(0,i.Pj)(),a=(0,l.EW)((()=>t.getters["cart/cartProductList"])),s=(0,l.EW)((()=>t.getters["cart/cartTotal"]));return(e,t)=>{const o=(0,l.g2)("base-page-title"),i=(0,l.g2)("router-link"),n=(0,l.g2)("base-box");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(o,{pageTitle:"Shopping Cart"}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[a.value.length>0?((0,l.uX)(),(0,l.CE)("div",ia,[(0,l.Lk)("div",na,[(0,l.bF)(ta)]),(0,l.Lk)("ul",ra,[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[s.value>80?((0,l.uX)(),(0,l.CE)("li",ua,[(0,l.bF)(z,{color:"is-success","is-light":!0},{default:(0,l.k6)((()=>[(0,l.eW)("Congratulations you've qualified for free shipping!")])),_:1})])):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(sa,{"is-for-list":!0},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,(e=>((0,l.uX)(),(0,l.CE)("li",{class:"cart-item",key:e.id},[(0,l.bF)(jt,{"cart-product":e},null,8,["cart-product"])])))),128))])),_:1})])])):((0,l.uX)(),(0,l.Wv)(n,{key:1},{default:(0,l.k6)((()=>[(0,l.Lk)("div",ca,[da,(0,l.Lk)("p",null,[(0,l.eW)("Maybe check something "),(0,l.bF)(i,{to:{name:"productList"},class:"link"},{default:(0,l.k6)((()=>[(0,l.eW)("here")])),_:1})])])])),_:1}))])),_:1})])}}});const va=(0,d.A)(pa,[["__scopeId","data-v-0c1e7920"]]);var ma=va;const fa=[{name:"cart",path:"/cart",component:ma}],ga=e=>((0,l.Qi)("data-v-78c1c10e"),e=e(),(0,l.jt)(),e),ba={class:"modal is-active"},ha={key:0,class:"modal-card"},ka={class:"modal-card-head"},ya=ga((()=>(0,l.Lk)("p",{class:"modal-card-title"},"Confirm action",-1))),La={class:"modal-card-body"},_a={class:"modal-card-foot is-justify-content-end"},Ra={class:"buttons"};var wa=(0,l.pM)({__name:"BaseConfirmationDialog",props:{show:{type:Boolean,required:!0},message:{type:String,required:!0},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],setup(e,{emit:t}){const a=e,{fixed:i,show:r,message:u}=(0,o.QW)(a),c=t;function d(){i.value||c("close",!1)}function p(){i.value||c("close",!0)}return(e,t)=>{const a=(0,l.g2)("base-button");return(0,l.uX)(),(0,l.Wv)(l.Im,{to:"body"},[(0,l.Lk)("div",ba,[(0,o.R1)(r)?((0,l.uX)(),(0,l.CE)("div",{key:0,onClick:t[0]||(t[0]=e=>d()),class:"modal-background"})):(0,l.Q3)("",!0),(0,l.bF)(s.eB,{name:"dialog"},{default:(0,l.k6)((()=>[(0,o.R1)(r)?((0,l.uX)(),(0,l.CE)("div",ha,[(0,l.Lk)("header",ka,[(0,l.RG)(e.$slots,"header",{},(()=>[ya]))]),(0,l.Lk)("section",La,[(0,l.Lk)("p",null,(0,n.v_)((0,o.R1)(u)),1)]),(0,l.Lk)("footer",_a,[(0,l.Lk)("div",Ra,[(0,l.RG)(e.$slots,"actions",{},(()=>[(0,l.bF)(a,{color:"is-danger",icon:"fa-xmark",onClick:t[1]||(t[1]=e=>d())},{default:(0,l.k6)((()=>[(0,l.eW)("Cancel")])),_:1}),(0,l.bF)(a,{color:"is-success",icon:"fa-check",onClick:t[2]||(t[2]=e=>p())},{default:(0,l.k6)((()=>[(0,l.eW)("Confirm")])),_:1})]))])])])):(0,l.Q3)("",!0)])),_:3})])])}}});const Ca=(0,d.A)(wa,[["__scopeId","data-v-78c1c10e"]]);var Va=Ca;const Ea={class:"table-wrapper"},Fa={class:"table is-fullwidth is-hoverable has-sticky-header"},Pa={key:1},xa={key:2},Ia=["onClick","title"],Wa={key:3},qa={key:0},Sa={key:1};var Aa=(0,l.pM)({__name:"BaseTable",props:{columnList:{type:Object,required:!0},dataSource:{type:Object,required:!0}},emits:["iconAction"],setup(e,{emit:t}){const a=t,s=e,{columnList:i,dataSource:r}=(0,o.QW)(s);function u(e,t){const l={iconName:e,elementId:t};a("iconAction",l)}const{formatDate:c}=ve();return(e,t)=>{const a=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Ea,[(0,l.Lk)("table",Fa,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(i),(e=>((0,l.uX)(),(0,l.CE)("th",{key:e.dataKey},(0,n.v_)(e.header),1)))),128))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(r),((e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:t},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(i),(t=>((0,l.uX)(),(0,l.CE)("td",{key:t.dataKey,class:(0,n.C4)(t.textAlign??"has-text-left")},["link"==t.type?((0,l.uX)(),(0,l.Wv)(a,{key:0,to:t.url},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e[t.dataKey]),1)])),_:2},1032,["to"])):"date"==t.type?((0,l.uX)(),(0,l.CE)("span",Pa,(0,n.v_)((0,o.R1)(c)(e[t.dataKey])),1)):"action"==t.type?((0,l.uX)(),(0,l.CE)("span",xa,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.icons,((t,a)=>((0,l.uX)(),(0,l.CE)("span",{key:a,class:"icon"},[(0,l.Lk)("i",{class:(0,n.C4)(["fa",t.iconName]),onClick:a=>u(t.iconName,e.id),title:t.tooltip},null,10,Ia)])))),128))])):((0,l.uX)(),(0,l.CE)("span",Wa,[t.prefix?((0,l.uX)(),(0,l.CE)("span",qa,(0,n.v_)(t.prefix),1)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(e[t.dataKey])+" ",1),t.suffix?((0,l.uX)(),(0,l.CE)("span",Sa,(0,n.v_)(t.suffix),1)):(0,l.Q3)("",!0)]))],2)))),128))])))),128))])])])}}});const Xa=(0,d.A)(Aa,[["__scopeId","data-v-3a5f8ec6"]]);var Ta=Xa;function Ma(){const e=(0,o.KR)(!1);function t(){e.value=!0}return{isTouched:e,wasTouched:t}}function Ba(e,t){const a=(0,o.KR)(!1),s=(0,o.KR)("");function i(e,t){const l=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),o=new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/);t.required&&!e&&0!==e?s.value="This field is required":e&&t.minLength&&t.minLength>String(e).length?s.value=`Value should have a min characters length of: ${t.minLength}`:e&&t.maxLength&&t.maxLength<String(e).length?s.value=`Value exceed max characters length of: ${t.maxLength}`:e&&t.minValue&&t.minValue>+e?s.value=`Value is lower than min value: ${t.minValue}`:e&&t.maxValue&&t.maxValue<+e?s.value=`Value is higher than max value: ${t.maxValue}`:e&&t.email&&!l.test(String(e))?s.value="Please input a valid email (example: johndoe@example.com)":e&&t.password&&!o.test(String(e))?s.value="The password must contains at least one uppercase letter, one lowercase letter, one number and one special character (@$!%*?&)":e&&t.regex&&t.regex.test(String(e))?s.value=t.regexMessage??"The input value is invalid":s.value="",a.value=!s.value}return(0,l.wB)(e,(function(e){i(e,t.validators)})),{isValid:a,errorMessage:s,testControlValidity:i}}const ja={class:"field"},Da=["for"],Ka={class:"control"},Ua=["id"],Oa={class:"help is-danger empty-p"};var Qa=(0,l.pM)({__name:"BaseInputNumber",props:(0,l.zz)({inputControl:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,l.zz)(["isValid"],["update:modelValue"]),setup(e,{emit:t}){const a=t,i=e,{inputControl:r}=(0,o.QW)(i),u=(0,l.fn)(e,"modelValue"),{isValid:c,errorMessage:d,testControlValidity:p}=Ba(u,r.value),{isTouched:v,wasTouched:m}=Ma();return(0,l.wB)(c,(()=>{a("isValid",c.value)})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",ja,[(0,l.Lk)("label",{class:"label",for:(0,o.R1)(r).id},(0,n.v_)((0,o.R1)(r).controlLabel??""),9,Da),(0,l.Lk)("div",Ka,[(0,l.bo)((0,l.Lk)("input",{class:(0,n.C4)(["input",{"is-danger":!(0,o.R1)(c)&&(0,o.R1)(v)}]),type:"number",id:(0,o.R1)(r).id,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),onFocusOnce:t[1]||(t[1]=e=>(0,o.R1)(p)(u.value,(0,o.R1)(r).validators)),onBlurOnce:t[2]||(t[2]=e=>(0,o.R1)(m)())},null,42,Ua),[[s.Jo,u.value,void 0,{trim:!0,number:!0}]])]),(0,l.Lk)("p",Oa,(0,n.v_)(!(0,o.R1)(c)&&(0,o.R1)(v)?(0,o.R1)(d):""),1)]))}});const $a=Qa;var Ga=$a;const za={class:"field"},Na=["for"],Ja={class:"control"},Ha=["id"],Za=["value"],Ya={class:"help is-danger empty-p"};var el=(0,l.pM)({__name:"BaseInputSelect",props:(0,l.zz)({inputSelectControl:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,l.zz)(["isValid"],["update:modelValue"]),setup(e,{emit:t}){const a=t,i=e,{inputSelectControl:r}=(0,o.QW)(i),u=(0,l.fn)(e,"modelValue"),{isValid:c,errorMessage:d,testControlValidity:p}=Ba(u,r.value),{isTouched:v,wasTouched:m}=Ma();return(0,l.wB)(c,(()=>{a("isValid",c.value)})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",za,[(0,l.Lk)("label",{class:"label",for:(0,o.R1)(r).id},(0,n.v_)((0,o.R1)(r).controlLabel??"Select an option"),9,Na),(0,l.Lk)("div",Ja,[(0,l.Lk)("div",{class:(0,n.C4)(["select is-fullwidth",{"is-danger":!(0,o.R1)(c)&&(0,o.R1)(v)}])},[(0,l.bo)((0,l.Lk)("select",{id:(0,o.R1)(r).id,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),onFocusOnce:t[1]||(t[1]=e=>(0,o.R1)(p)(u.value,(0,o.R1)(r).validators)),onBlurOnce:t[2]||(t[2]=e=>(0,o.R1)(m)())},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(r).optionList,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.value,value:e.value},(0,n.v_)(e.label),9,Za)))),128))],40,Ha),[[s.u1,u.value,void 0,{trim:!0}]])],2),(0,l.Lk)("p",Ya,(0,n.v_)(!(0,o.R1)(c)&&(0,o.R1)(v)?(0,o.R1)(d):""),1)])]))}});const tl=el;var al=tl;const ll={class:"field"},sl=["for"],ol={class:"control"},il=["id"],nl={class:"help is-danger empty-p"};var rl=(0,l.pM)({__name:"BaseInputText",props:(0,l.zz)({inputControl:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,l.zz)(["isValid"],["update:modelValue"]),setup(e,{emit:t}){const a=t,i=e,{inputControl:r}=(0,o.QW)(i),u=(0,l.fn)(e,"modelValue"),{isValid:c,errorMessage:d,testControlValidity:p}=Ba(u,r.value),{isTouched:v,wasTouched:m}=Ma();return(0,l.wB)(c,(()=>{a("isValid",c.value)})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",ll,[(0,l.Lk)("label",{class:"label",for:(0,o.R1)(r).id},(0,n.v_)((0,o.R1)(r).controlLabel??""),9,sl),(0,l.Lk)("div",ol,[(0,l.bo)((0,l.Lk)("input",{class:(0,n.C4)(["input",{"is-danger":!(0,o.R1)(c)&&(0,o.R1)(v)}]),type:"text",id:(0,o.R1)(r).id,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),onFocusOnce:t[1]||(t[1]=e=>(0,o.R1)(p)(u.value,(0,o.R1)(r).validators)),onBlurOnce:t[2]||(t[2]=e=>(0,o.R1)(m)())},null,42,il),[[s.Jo,u.value,void 0,{trim:!0}]])]),(0,l.Lk)("p",nl,(0,n.v_)(!(0,o.R1)(c)&&(0,o.R1)(v)?(0,o.R1)(d):""),1)]))}});const ul=rl;var cl=ul;const dl={class:"field"},pl=["for"],vl={class:"control"},ml=["rows","id"],fl={class:"help is-danger empty-p"};var gl=(0,l.pM)({__name:"BaseInputTextarea",props:(0,l.zz)({inputControl:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,l.zz)(["isValid"],["update:modelValue"]),setup(e,{emit:t}){const a=t,i=e,{inputControl:r}=(0,o.QW)(i),u=(0,l.fn)(e,"modelValue"),{isValid:c,errorMessage:d,testControlValidity:p}=Ba(u,r.value),{isTouched:v,wasTouched:m}=Ma();return(0,l.wB)(c,(()=>{a("isValid",c.value)})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",dl,[(0,l.Lk)("label",{class:"label",for:(0,o.R1)(r).id},(0,n.v_)((0,o.R1)(r).controlLabel??""),9,pl),(0,l.Lk)("div",vl,[(0,l.bo)((0,l.Lk)("textarea",{class:(0,n.C4)(["textarea",{"is-danger":!(0,o.R1)(c)&&(0,o.R1)(v)}]),rows:(0,o.R1)(r).rows,id:(0,o.R1)(r).id,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),onFocusOnce:t[1]||(t[1]=e=>(0,o.R1)(p)(u.value,(0,o.R1)(r).validators)),onBlurOnce:t[2]||(t[2]=e=>(0,o.R1)(m)())},"\n      ",42,ml),[[s.Jo,u.value,void 0,{trim:!0}]])]),(0,l.Lk)("p",fl,(0,n.v_)(!(0,o.R1)(c)&&(0,o.R1)(v)?(0,o.R1)(d):""),1)]))}});const bl=gl;var hl=bl;const kl={class:"field"},yl=["for"],Ll={class:"control"},_l=["id"],Rl={class:"help is-danger empty-p"};var wl=(0,l.pM)({__name:"BaseInputDate",props:(0,l.zz)({inputControl:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,l.zz)(["isValid"],["update:modelValue"]),setup(e,{emit:t}){const a=t,i=e,{inputControl:r}=(0,o.QW)(i),u=(0,l.fn)(e,"modelValue"),{isValid:c,errorMessage:d,testControlValidity:p}=Ba(u,r.value),{isTouched:v,wasTouched:m}=Ma();return(0,l.wB)(c,(()=>{a("isValid",c.value)})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",kl,[(0,l.Lk)("label",{class:"label",for:(0,o.R1)(r).id},(0,n.v_)((0,o.R1)(r).controlLabel??""),9,yl),(0,l.Lk)("div",Ll,[(0,l.bo)((0,l.Lk)("input",{class:(0,n.C4)(["input",{"is-danger":!(0,o.R1)(c)&&(0,o.R1)(v)}]),type:"date",id:(0,o.R1)(r).id,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),onFocusOnce:t[1]||(t[1]=e=>(0,o.R1)(p)(u.value,(0,o.R1)(r).validators)),onBlurOnce:t[2]||(t[2]=e=>(0,o.R1)(m)())},null,42,_l),[[s.Jo,u.value,void 0,{trim:!0}]])]),(0,l.Lk)("p",Rl,(0,n.v_)(!(0,o.R1)(c)&&(0,o.R1)(v)?(0,o.R1)(d):""),1)]))}});const Cl=wl;var Vl=Cl;const El={class:"columns"},Fl={class:"column"},Pl={class:"column"},xl={class:"columns"},Il={class:"column"},Wl={class:"column"};var ql=(0,l.pM)({__name:"ProductFormDialog",props:{show:{type:Boolean,required:!0},product:{type:Object,required:!1,default:void 0}},emits:["close"],setup(e,{emit:t}){const a=e,{show:n,product:r}=(0,o.QW)(a);function u(){r?.value&&(h.value=r.value.coverUrl,w.value=r.value.releaseDate,y.value=r.value.description,g.value=r.value.imageUrl,F.value=r.value.inStock??0,m.value=r.value.name,_.value=r.value.price,V.value=r.value.type,d(!0))}(0,l.wB)(n,(function(){r?.value&&u()}));const c=(0,o.Kh)({coverUrl:!1,description:!1,imageUrl:!1,inStock:!0,name:!1,price:!0,releaseDate:!0,type:!0});function d(e){for(const t in c)c[t]=e}function p(e,t){c[e]=t}const v=(0,l.EW)((function(){for(const e in c)if(!c[e])return!1;return!0})),m=(0,o.KR)(),f={controlLabel:"Product Name",id:"productName",validators:{required:!0}},g=(0,o.KR)(),b={controlLabel:"Product Image Url",id:"imageUrl",validators:{required:!0}},h=(0,o.KR)(),k={controlLabel:"Product Cover Url",id:"coverUrl",validators:{required:!0}},y=(0,o.KR)(),L={controlLabel:"Product Description",id:"description",rows:10,validators:{required:!0,minLength:150}},_=(0,o.KR)(),R={controlLabel:"Product Price",id:"price",validators:{required:!0,minValue:0}},w=(0,o.KR)((new Date).toISOString().split("T")[0]),C={controlLabel:"Product Release Date",id:"releaseDate",validators:{required:!0,minValue:0}},V=(0,o.KR)("GAME"),E={controlLabel:"Product Type",id:"type",validators:{required:!0},optionList:[{label:"Game",value:"GAME"},{label:"DLC",value:"DLC"},{label:"Bundle",value:"BUNDLE"}]},F=(0,o.KR)(),P={controlLabel:"Product Stock",id:"stock",validators:{required:!0,minValue:0,maxValue:25}};function x(){if(v.value){const e={coverUrl:h.value,description:y.value,imageUrl:g.value,inStock:F.value,name:m.value,price:_.value,releaseDate:w.value,type:V.value};S(e)}}function I(){m.value=void 0,g.value=void 0,h.value=void 0,y.value=void 0,_.value=void 0,F.value=void 0,w.value=(new Date).toISOString().split("T")[0],V.value="GAME",d(!1)}const W=(0,o.KR)(!1),q=((0,o.KR)(""),(0,i.Pj)());async function S(e){W.value=!0;try{r?.value?.id?(e.id=r.value.id,await q.dispatch("gameProducts/saveGameProduct",e)):await q.dispatch("gameProducts/saveGameProduct",e),X()}catch(t){t=t.message||"Failed to authenticate, try later."}W.value=!1}const A=t;function X(){I(),A("close")}function T(){m.value="Everybody 1-2-Switch!™",g.value="https://assets.nintendo.eu/image/private/f_auto,c_limit,w_1920,q_auto:low/t_product_tile_mobile/ypnxx7aimuc5zvex5e2c",h.value="https://assets.nintendo.com/image/upload/ar_16:9,c_lpad,w_656/b_white/f_auto/q_auto/ncom/software/switch/70010000068159/de4985f3b03b7b50565be4b906ded22186f8365cc8c25bcbe1ed76882df39a17",y.value="Laugh it up at your next game night!\nWhether you’re summoning aliens or snapping colorful photos with your phone’s camera, mix up your next get-together with the Everybody 1-2-Switch! game. Grab some Joy-Con™ controllers or a whole bunch of smart devices for team-based games that are easy to set up.",_.value=29.99,F.value=10,w.value="2023-06-30",V.value="GAME",d(!0)}return(e,t)=>{const a=(0,l.g2)("base-button");return(0,l.uX)(),(0,l.Wv)(Ee["default"],{show:(0,o.R1)(n),title:"Add product"},{default:(0,l.k6)((()=>[(0,l.Lk)("form",{onSubmit:t[16]||(t[16]=(0,s.D$)((()=>{}),["prevent"]))},[(0,l.bF)(cl,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e),"input-control":f,onIsValid:t[1]||(t[1]=e=>p("name",e))},null,8,["modelValue"]),(0,l.bF)(cl,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=e=>g.value=e),"input-control":b,onIsValid:t[3]||(t[3]=e=>p("imageUrl",e))},null,8,["modelValue"]),(0,l.bF)(cl,{modelValue:h.value,"onUpdate:modelValue":t[4]||(t[4]=e=>h.value=e),"input-control":k,onIsValid:t[5]||(t[5]=e=>p("coverUrl",e))},null,8,["modelValue"]),(0,l.Lk)("div",El,[(0,l.Lk)("div",Fl,[(0,l.bF)(al,{modelValue:V.value,"onUpdate:modelValue":t[6]||(t[6]=e=>V.value=e),"input-select-control":E,onIsValid:t[7]||(t[7]=e=>p("type",e))},null,8,["modelValue"])]),(0,l.Lk)("div",Pl,[(0,l.bF)(Vl,{modelValue:w.value,"onUpdate:modelValue":t[8]||(t[8]=e=>w.value=e),"input-control":C,onIsValid:t[9]||(t[9]=e=>p("releaseDate",e))},null,8,["modelValue"])])]),(0,l.Lk)("div",xl,[(0,l.Lk)("div",Il,[(0,l.bF)(Ga,{modelValue:_.value,"onUpdate:modelValue":t[10]||(t[10]=e=>_.value=e),"input-control":R,onIsValid:t[11]||(t[11]=e=>p("price",e))},null,8,["modelValue"])]),(0,l.Lk)("div",Wl,[(0,l.bF)(Ga,{modelValue:F.value,"onUpdate:modelValue":t[12]||(t[12]=e=>F.value=e),"input-control":P,onIsValid:t[13]||(t[13]=e=>p("inStock",e))},null,8,["modelValue"])])]),(0,l.bF)(hl,{modelValue:y.value,"onUpdate:modelValue":t[14]||(t[14]=e=>y.value=e),"input-control":L,onIsValid:t[15]||(t[15]=e=>p("description",e))},null,8,["modelValue"])],32)])),actions:(0,l.k6)((()=>[(0,l.bF)(a,{mode:"is-light",icon:"fa-xmark","is-disabled":W.value,onClick:t[17]||(t[17]=e=>X())},{default:(0,l.k6)((()=>[(0,l.eW)("Cancel")])),_:1},8,["is-disabled"]),(0,l.bF)(a,{color:"is-info",icon:"fa-list","is-disabled":W.value,onClick:t[18]||(t[18]=e=>T())},{default:(0,l.k6)((()=>[(0,l.eW)("Autocompile")])),_:1},8,["is-disabled"]),(0,l.bF)(a,{color:"is-primary",icon:"fa-save","is-disabled":!v.value||W.value,"is-loading":W.value,onClick:t[19]||(t[19]=e=>x())},{default:(0,l.k6)((()=>[(0,l.eW)("Save Product")])),_:1},8,["is-disabled","is-loading"])])),_:1},8,["show"])}}});const Sl=ql;var Al=Sl;const Xl={class:"page-wrapper is-flex is-flex-direction-column"},Tl={class:"buttons is-justify-content-end"};var Ml=(0,l.pM)({__name:"AdminProductList",setup(e){const t=[{header:"Name",dataKey:"name",textAlign:"has-text-left"},{header:"Price",dataKey:"price",prefix:"$"},{header:"In Stock",dataKey:"inStock"},{header:"Release Date",dataKey:"releaseDate",type:"date"},{header:"Type",dataKey:"type"},{header:"Actions",dataKey:"actions",type:"action",icons:[{iconName:"fa-pencil",tooltip:"Edit"},{iconName:"fa-trash-can",tooltip:"Remove"}]}];(0,l.sV)((()=>{u(!0)}));const a=(0,i.Pj)(),s=(0,l.EW)((()=>a.getters["gameProducts/gameProductList"])),n=(0,o.KR)(""),r=(0,o.KR)(!1);async function u(e=!1){r.value=!0;try{await a.dispatch("gameProducts/loadGameProductList",{forceRefresh:e})}catch(t){n.value=t.message||"Something went wrong, try again later"}r.value=!1}function c(e){switch(e.iconName){case"fa-pencil":v(e.elementId);break;case"fa-trash-can":h(e.elementId);break;default:console.log(e)}}const d=(0,o.KR)(!1),p=(0,o.KR)();function v(e){const t=s.value.find((t=>t.id===e));t&&(p.value=t,m())}function m(){d.value=!0}function f(){d.value=!1,p.value=void 0,u(!0)}const g=(0,o.KR)(!1),b=(0,o.KR)("");function h(e){e&&(b.value=e,k())}function k(){g.value=!0}function y(e){e&&L(b.value),g.value=!1,p.value=void 0}async function L(e){r.value=!0;try{await a.dispatch("gameProducts/deleteGameProduct",e)}catch(n){n=n.message||"Failed to delete, try later."}r.value=!1,u(!0)}return(e,a)=>{const o=(0,l.g2)("base-spinner"),i=(0,l.g2)("base-dialog"),n=(0,l.g2)("base-page-title"),u=(0,l.g2)("base-button");return(0,l.uX)(),(0,l.CE)("div",Xl,[(0,l.bF)(i,{show:r.value,fixed:""},{default:(0,l.k6)((()=>[(0,l.bF)(o)])),_:1},8,["show"]),(0,l.bF)(Al,{show:d.value,onClose:a[0]||(a[0]=e=>f()),product:p.value},null,8,["show","product"]),(0,l.bF)(Va,{show:g.value,message:"Are you sure to delete the selected item?",onClose:a[1]||(a[1]=e=>y(e))},null,8,["show"]),(0,l.bF)(n,{pageTitle:"Admin products management"}),(0,l.Lk)("div",Tl,[(0,l.bF)(u,{color:"is-primary",icon:"fa-plus",onClick:a[2]||(a[2]=e=>m())},{default:(0,l.k6)((()=>[(0,l.eW)("Add new product")])),_:1})]),(0,l.bF)(Ta,{"data-source":s.value,"column-list":t,onIconAction:a[3]||(a[3]=e=>c(e))},null,8,["data-source"])])}}});const Bl=Ml;var jl=Bl;const Dl=[{name:"adminProductList",path:"/admin/games",component:jl,meta:{requiresAuth:!0}}],Kl={class:"field"},Ul=["for"],Ol={class:"control"},Ql=["id"],$l={class:"help is-danger empty-p"};var Gl=(0,l.pM)({__name:"BaseInputMail",props:(0,l.zz)({inputControl:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,l.zz)(["isValid"],["update:modelValue"]),setup(e,{emit:t}){const a=t,i=e,{inputControl:r}=(0,o.QW)(i),u=(0,l.fn)(e,"modelValue"),{isValid:c,errorMessage:d,testControlValidity:p}=Ba(u,r.value),{isTouched:v,wasTouched:m}=Ma();return(0,l.wB)(c,(()=>{a("isValid",c.value)})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",Kl,[(0,l.Lk)("label",{class:"label",for:(0,o.R1)(r).id},(0,n.v_)((0,o.R1)(r).controlLabel??"Email"),9,Ul),(0,l.Lk)("div",Ol,[(0,l.bo)((0,l.Lk)("input",{class:(0,n.C4)(["input",{"is-danger":!(0,o.R1)(c)&&(0,o.R1)(v)}]),type:"email",id:(0,o.R1)(r).id,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),onFocusOnce:t[1]||(t[1]=e=>(0,o.R1)(p)(u.value,(0,o.R1)(r).validators)),onBlurOnce:t[2]||(t[2]=e=>(0,o.R1)(m)())},null,42,Ql),[[s.Jo,u.value,void 0,{trim:!0}]])]),(0,l.Lk)("p",$l,(0,n.v_)(!(0,o.R1)(c)&&(0,o.R1)(v)?(0,o.R1)(d):""),1)]))}});const zl=Gl;var Nl=zl;const Jl={class:"field"},Hl=["for"],Zl={class:"control"},Yl=["id"],es={class:"help is-danger empty-p"};var ts=(0,l.pM)({__name:"BaseInputPassword",props:(0,l.zz)({inputControl:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,l.zz)(["isValid"],["update:modelValue"]),setup(e,{emit:t}){const a=t,i=e,{inputControl:r}=(0,o.QW)(i),u=(0,l.fn)(e,"modelValue"),{isValid:c,errorMessage:d,testControlValidity:p}=Ba(u,r.value),{isTouched:v,wasTouched:m}=Ma();return(0,l.wB)(c,(()=>{a("isValid",c.value)})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",Jl,[(0,l.Lk)("label",{class:"label",for:(0,o.R1)(r).id},(0,n.v_)((0,o.R1)(r).controlLabel??"Password"),9,Hl),(0,l.Lk)("div",Zl,[(0,l.bo)((0,l.Lk)("input",{class:(0,n.C4)(["input",{"is-danger":!(0,o.R1)(c)&&(0,o.R1)(v)}]),type:"password",id:(0,o.R1)(r).id,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),onFocusOnce:t[1]||(t[1]=e=>(0,o.R1)(p)(u.value,(0,o.R1)(r).validators)),onBlurOnce:t[2]||(t[2]=e=>(0,o.R1)(m)())},null,42,Yl),[[s.Jo,u.value,void 0,{trim:!0}]])]),(0,l.Lk)("p",es,(0,n.v_)(!(0,o.R1)(c)&&(0,o.R1)(v)?(0,o.R1)(d):""),1)]))}});const as=ts;var ls=as;const ss={class:"buttons is-centered"};var os=(0,l.pM)({__name:"UserAuth",setup(e){const t=(0,o.KR)("login"),a=(0,l.EW)((()=>"login"===t.value?"Login":"Signup")),r={email:!1,password:!1};function u(e,t){r[e]=t}function c(){for(const e in r)if(!r[e])return!1;return!0}const d=(0,o.KR)(),p=(0,o.KR)({id:"mail",validators:{email:!0,required:!0}}),v=(0,o.KR)(),m=(0,o.KR)({id:"password",validators:{password:!0,minLength:8,required:!0}});function f(){if(c()){const e={email:d.value,password:v.value};k(e)}}const g=(0,o.KR)(!1),b=(0,o.KR)(""),h=(0,i.Pj)();async function k(e){g.value=!0;try{"login"===t.value?await h.dispatch("login",e):await h.dispatch("signup",e),_()}catch(b){b=b.message||"Failed to authenticate, try later."}g.value=!1}function y(){b.value=""}const L=(0,M.rd)();function _(){L.replace({name:"productList"})}return(e,t)=>{const o=(0,l.g2)("base-dialog"),i=(0,l.g2)("base-spinner"),r=(0,l.g2)("base-page-title"),c=(0,l.g2)("base-button"),h=(0,l.g2)("base-box");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(o,{show:!!b.value,title:"An error occured",onClose:y},{default:(0,l.k6)((()=>[(0,l.Lk)("p",null,(0,n.v_)(b.value),1)])),_:1},8,["show"]),(0,l.bF)(o,{show:g.value,title:"Authenticating...",fixed:""},{default:(0,l.k6)((()=>[(0,l.bF)(i)])),_:1},8,["show"]),(0,l.bF)(r,{pageTitle:"Login page"}),(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.Lk)("form",{onSubmit:(0,s.D$)(f,["prevent"])},[(0,l.bF)(Nl,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),"input-control":p.value,onIsValid:t[1]||(t[1]=e=>u("email",e))},null,8,["modelValue","input-control"]),(0,l.bF)(ls,{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=e=>v.value=e),"input-control":m.value,onIsValid:t[3]||(t[3]=e=>u("password",e))},null,8,["modelValue","input-control"]),(0,l.Lk)("div",ss,[(0,l.bF)(c,{color:"is-primary"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.value),1)])),_:1})])],32)])),_:1})])}}});const is=os;var ns=is;const rs=[{name:"userAuth",path:"/auth",component:ns,meta:{requiresUnauth:!0}}];var us={state(){return{}},getters:{},mutations:{},actions:{}},cs=a(4155),ds=a(6400),ps=a(7617);const vs={apiKey:"AIzaSyCwClQf_tZvKk51wU6AoTpqgfjEuJQ8gAk",authDomain:"n-shop-b6c92.firebaseapp.com",databaseURL:"https://n-shop-b6c92-default-rtdb.europe-west1.firebasedatabase.app",projectId:"n-shop-b6c92",storageBucket:"n-shop-b6c92.appspot.com",messagingSenderId:"658444567440",appId:"1:658444567440:web:c59fde8db3306c0688e915"},ms=(0,ds.Wp)(vs),fs=(0,ps.aU)(ms),gs=(0,cs.xI)(ms);let bs;var hs={state:{userId:null,token:null,didAutoLogout:!1},mutations:{setUser(e,t){e.token=t.token,e.userId=t.userId,e.didAutoLogout=t.didAutoLogout},setAutoLogout(e){e.didAutoLogout=!0}},actions:{async login(e,t){return e.dispatch("auth",{...t,mode:"login"})},async signup(e,t){return e.dispatch("auth",{...t,mode:"signup"})},async auth(e,t){await(0,cs.x9)(gs,t.email,t.password).then((t=>{const a=1e3*+t._tokenResponse.expiresIn,l=(new Date).getTime()+a,s={token:t._tokenResponse.idToken,userId:t._tokenResponse.localId,tokenExpiration:l};localStorage.setItem("user",JSON.stringify(s)),bs=setTimeout((()=>{e.dispatch("autoLogout")}),a),e.commit("setUser",{...s,didAutoLogout:!1})})).catch((e=>{e.code;const t=new Error(e.message||"Failed to authenticate");throw t}))},logout(e){(0,cs.CI)(gs).then((()=>{localStorage.removeItem("user"),clearTimeout(bs),e.commit("setUser",{token:null,userId:null,didAutoLogout:!1}),Vs.push({name:"userAuth"})})).catch((e=>{}))},tryLogin(e){const t=localStorage.getItem("user");if(!t)return;const a=JSON.parse(t),l=+a.tokenExpiration-(new Date).getTime();l<1e4||(bs=setTimeout((()=>{e.dispatch("autoLogout")}),l),a.token&&a.userId&&e.commit("setUser",{...a,didAutoLogout:!1}))},autoLogout(e){e.dispatch("logout"),e.commit("setAutoLogout")},async authOLD(e,t){const a="AIzaSyCwClQf_tZvKk51wU6AoTpqgfjEuJQ8gAk",l=t.mode;let s=`https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${a}`;"signup"===l&&(s=`https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${a}`);const o={email:t.email,password:t.password,returnSecureToken:!0},i=await fetch(s,{method:"POST",body:JSON.stringify(o)}),n=await i.json();if(!i.ok){const e=new Error(n.message||"Failed to authenticate");throw e}const r=1e3*+n.expiresIn,u=(new Date).getTime()+r,c={token:n.idToken,userId:n.localId,tokenExpiration:u};localStorage.setItem("user",JSON.stringify(c)),bs=setTimeout((()=>{e.dispatch("autoLogout")}),r),e.commit("setUser",{...c,didAutoLogout:!1})},logoutOLD(e){localStorage.removeItem("user"),clearTimeout(bs),e.commit("setUser",{token:null,userId:null,didAutoLogout:!1}),Vs.push({name:"userAuth"})}},getters:{userId(e){return e.userId},token(e){return e.token},isAuthenticated(e){return!!e.token},didAutoLogout(e){return e.didAutoLogout}}},ks={namespaced:!0,state:{cart:[]},mutations:{updateCart(e,t){e.cart=t}},actions:{addItemToCart(e,t){const a=e.getters.cartProductList,l=a.findIndex((e=>e.id===t.id)),s=-1!==l;if(s)a[l].quantity+=1,t.inStock&&t.inStock<a[l].quantity&&(a[l].quantity=t.inStock);else{const e={...t,quantity:1};a.push(e)}localStorage.setItem("cart",JSON.stringify(a)),e.commit("updateCart",a)},removeItemFromCart(e,t){const a=e.getters.cartProductList,l=a.findIndex((e=>e.id===t));a.splice(l,1),localStorage.setItem("cart",JSON.stringify(a)),e.commit("updateCart",a)},reduceQuantityForItem(e,t){const a=e.getters.cartProductList,l=a.findIndex((e=>e.id===t));a[l].quantity-=1,localStorage.setItem("cart",JSON.stringify(a)),e.commit("updateCart",a)},getCartStorage(e){const t=localStorage.getItem("cart");if(t){const a=JSON.parse(t);e.commit("updateCart",a)}}},getters:{cartProductList(e){return e.cart},cartTotal(e){let t=0;return e.cart.forEach((e=>{t+=e.price*e.quantity})),t},cartQuantity(e){let t=0;return e.cart.forEach((e=>{t+=e.quantity})),t}}};const ys="gameProductList";var Ls={namespaced:!0,state:{lastFetch:null,gameProductList:[]},mutations:{setGameProductList(e,t){e.gameProductList=t},pushGameProducts(e,t){e.gameProductList.push(...t)},setFetchTimestamp(e){e.lastFetch=(new Date).getTime()}},actions:{async saveGameProduct(e,t){if(t.id){const e=(0,ps.H9)(fs,ys,t.id);await(0,ps.BN)(e,t)}else{const e=(0,ps.H9)((0,ps.rJ)(fs,ys));await(0,ps.BN)(e,t)}},async deleteGameProduct(e,t){const a=(0,ps.H9)(fs,ys,t);await(0,ps.kd)(a)},async loadGameProductList(e,t){const a=!t.forceRefresh&&!e.getters.shouldUpdate;if(a)return;const l=_s(t),s=(0,ps.P)((0,ps.rJ)(fs,ys),...l),o=[],i=await(0,ps.GG)(s);i.forEach((e=>{o.push({id:e.id,...e.data()})})),e.commit("setGameProductList",o),e.commit("setFetchTimestamp")},async loadMoreProducts(e,t){if(!t.take||!t.skip)throw"Can't load more elements";const a=_s(t),l=(0,ps.P)((0,ps.rJ)(fs,ys),...a),s=[],o=await(0,ps.GG)(l);o.forEach((e=>{s.push({id:e.id,...e.data()})}));const i=s.splice(t.skip,t.take);e.commit("pushGameProducts",i),e.commit("setFetchTimestamp")},async uploadGameProduct(e,t){const a=e.rootGetters.token;let l=`https://n-shop-b6c92-default-rtdb.europe-west1.firebasedatabase.app/gameProductList.json?auth=${a}`,s="POST";t.id&&(l=`https://n-shop-b6c92-default-rtdb.europe-west1.firebasedatabase.app/gameProductList/${t.id}.json?auth=${a}`,s="PUT");const o=await fetch(l,{method:s,body:JSON.stringify(t)}),i=await o.json();o.ok,console.log(i)},async removeGameProduct(e,t){const a=e.rootGetters.token,l=`https://n-shop-b6c92-default-rtdb.europe-west1.firebasedatabase.app/gameProductList/${t}.json?auth=${a}`,s="DELETE",o=await fetch(l,{method:s}),i=await o.json();o.ok,console.log(i)},async loadGameProducts(e,t){const a=!t.forceRefresh&&!e.getters.shouldUpdate;if(a)return;const l=await fetch("https://n-shop-b6c92-default-rtdb.europe-west1.firebasedatabase.app/gameProductList.json"),s=await l.json();if(!l.ok){const e=new Error(s.message||"Failed to fetch, try again later!");throw e}const o=[];for(const i in s){const e={coverUrl:s[i].coverUrl,description:s[i].description,id:i,imageUrl:s[i].imageUrl,inStock:s[i].inStock??null,name:s[i].name,price:s[i].price,releaseDate:s[i].releaseDate,type:s[i].type};o.push(e)}e.commit("setGameProductList",o),e.commit("setFetchTimestamp")}},getters:{gameProductList(e){return e.gameProductList},gameProductById:e=>t=>e.gameProductList.find((e=>e.id==t)),shouldUpdate(e){const t=e.lastFetch;if(!t)return!0;const a=(new Date).getTime(),l=(a-t)/1e3>300;return l}}};function _s(e){const t=[];return e.take&&t.push((0,ps.AB)(e.take)),e.orderProperty&&t.push((0,ps.My)(e.orderProperty,e.orderDirection??"asc")),e.types&&e.types.length>0&&(t.push((0,ps._M)("type","in",e.types)),"type"!=e.orderProperty&&t.push((0,ps.My)("type","asc"))),e.releasedAfter&&(t.push((0,ps._M)("releaseDate",">=",e.releasedAfter)),"releaseDate"!=e.orderProperty&&t.push((0,ps.My)("releaseDate","asc"))),e.releasedBefore&&t.push((0,ps._M)("releaseDate","<=",e.releasedBefore)),e.minPrice&&(t.push((0,ps._M)("price",">=",e.minPrice)),"price"!=e.orderProperty&&t.push((0,ps.My)("price","asc"))),e.maxPrice&&t.push((0,ps._M)("price","<=",e.maxPrice)),t}var Rs=(0,i.y$)({modules:{admin:us,auth:hs,cart:ks,gameProducts:Ls}});const ws=[{path:"/",redirect:"/games"},{path:"/:notFound(.*)",redirect:"/games"}];ws.push(...bt),ws.push(...fa),ws.push(...rs),ws.push(...Dl);const Cs=(0,M.aE)({history:(0,M.LA)("/"),routes:ws});Cs.beforeEach(((e,t,a)=>{e.meta.requiresAuth&&!Rs.getters.isAuthenticated?a({name:"userAuth"}):e.meta.requiresUnauth&&Rs.getters.isAuthenticated?a({name:"productList"}):a()}));var Vs=Cs;const Es={class:"box"};function Fs(e,t){return(0,l.uX)(),(0,l.CE)("div",Es,[(0,l.RG)(e.$slots,"default")])}const Ps={},xs=(0,d.A)(Ps,[["render",Fs]]);var Is=xs;const Ws=["is-ghost","is-light","is-dark","is-text","is-outlined","is-inverted","is-rounded",""],qs=["is-white","is-black","is-primary","is-info","is-success","is-warning","is-danger","is-link",""],Ss=["disabled"],As={key:0,class:"icon"};var Xs=(0,l.pM)({__name:"BaseButton",props:{mode:{type:String,required:!1,default:"",validator(e){return Ws.includes(e)}},color:{type:String,required:!1,default:"",validator(e){return qs.includes(e)}},icon:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{required:!1,default:"/"},isLoading:{type:Boolean,required:!1,default:!1},isDisabled:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,{link:a,mode:s,to:i,color:r,isLoading:u,icon:c,isDisabled:d}=(0,o.QW)(t);return(e,t)=>{const p=(0,l.g2)("router-link");return(0,o.R1)(a)?((0,l.uX)(),(0,l.Wv)(p,{key:1,to:(0,o.R1)(i),class:(0,n.C4)(["button",[(0,o.R1)(s),(0,o.R1)(r)]])},{default:(0,l.k6)((()=>[(0,l.RG)(e.$slots,"default")])),_:3},8,["to","class"])):((0,l.uX)(),(0,l.CE)("button",{key:0,class:(0,n.C4)(["button",[(0,o.R1)(s),(0,o.R1)(r),{"is-loading":(0,o.R1)(u)}]]),disabled:(0,o.R1)(d)},[(0,o.R1)(c)?((0,l.uX)(),(0,l.CE)("span",As,[(0,l.Lk)("i",{class:(0,n.C4)(["fa",(0,o.R1)(c)])},null,2)])):(0,l.Q3)("",!0),(0,l.Lk)("span",null,[(0,l.RG)(e.$slots,"default")])],10,Ss))}}});const Ts=Xs;var Ms=Ts;const Bs={class:"title"};var js=(0,l.pM)({__name:"BasePageTitle",props:{pageTitle:{type:String,required:!0}},setup(e){const t=e,{pageTitle:a}=(0,o.QW)(t);return document.title=a.value,(e,t)=>((0,l.uX)(),(0,l.CE)("h1",Bs,(0,n.v_)((0,o.R1)(a)),1))}});const Ds=js;var Ks=Ds;const Us=e=>((0,l.Qi)("data-v-058b30a4"),e=e(),(0,l.jt)(),e),Os={class:"spinner"},Qs=Us((()=>(0,l.Lk)("div",{class:"lds-roller"},[(0,l.Lk)("div"),(0,l.Lk)("div"),(0,l.Lk)("div"),(0,l.Lk)("div"),(0,l.Lk)("div"),(0,l.Lk)("div"),(0,l.Lk)("div"),(0,l.Lk)("div")],-1))),$s=[Qs];function Gs(e,t){return(0,l.uX)(),(0,l.CE)("div",Os,$s)}const zs={},Ns=(0,d.A)(zs,[["render",Gs],["__scopeId","data-v-058b30a4"]]);var Js=Ns;a(3807);const Hs=(0,l.$V)((()=>Promise.resolve().then(a.bind(a,6046)))),Zs=(0,s.Ef)(T);Zs.use(Rs),Zs.use(Vs),Zs.component("base-box",Is),Zs.component("base-button",Ms),Zs.component("base-dialog",Hs),Zs.component("base-page-title",Ks),Zs.component("base-spinner",Js),Zs.mount("#app")},6046:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var l=a(6768),s=a(144),o=a(5130),i=a(4232);const n={class:"modal is-active"},r={key:0,class:"modal-card"},u={class:"modal-card-head"},c={class:"modal-card-title"},d={class:"modal-card-body"},p={class:"modal-card-foot is-justify-content-end"},v={class:"buttons"};var m=(0,l.pM)({__name:"BaseDialog",props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],setup(e,{emit:t}){const a=e,{fixed:m,show:f,title:g}=(0,s.QW)(a),b=t;function h(){m.value||b("close")}return(e,t)=>{const a=(0,l.g2)("base-button");return(0,l.uX)(),(0,l.Wv)(l.Im,{to:"body"},[(0,l.Lk)("div",n,[(0,s.R1)(f)?((0,l.uX)(),(0,l.CE)("div",{key:0,onClick:h,class:"modal-background"})):(0,l.Q3)("",!0),(0,l.bF)(o.eB,{name:"dialog"},{default:(0,l.k6)((()=>[(0,s.R1)(f)?((0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("header",u,[(0,l.RG)(e.$slots,"header",{},(()=>[(0,l.Lk)("p",c,(0,i.v_)((0,s.R1)(g)),1)]))]),(0,l.Lk)("section",d,[(0,l.RG)(e.$slots,"default")]),(0,l.Lk)("footer",p,[(0,l.Lk)("div",v,[(0,l.RG)(e.$slots,"actions",{},(()=>[(0,l.bF)(a,{mode:"is-light",icon:"fa-xmark",onClick:t[0]||(t[0]=e=>h())},{default:(0,l.k6)((()=>[(0,l.eW)("Close")])),_:1})]))])])])):(0,l.Q3)("",!0)])),_:3})])])}}}),f=a(1241);const g=(0,f.A)(m,[["__scopeId","data-v-01d615e3"]]);var b=g}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var o=t[l]={exports:{}};return e[l].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,l,s,o){if(!l){var i=1/0;for(c=0;c<e.length;c++){l=e[c][0],s=e[c][1],o=e[c][2];for(var n=!0,r=0;r<l.length;r++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[r])}))?l.splice(r--,1):(n=!1,o<i&&(i=o));if(n){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[l,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,o,i=l[0],n=l[1],r=l[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(r)var c=r(a)}for(t&&t(l);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},l=self["webpackChunkn_shop"]=self["webpackChunkn_shop"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(3913)}));l=a.O(l)})();
//# sourceMappingURL=app.015c411c.js.map